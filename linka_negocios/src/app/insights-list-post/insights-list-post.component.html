<div class="page-wrapper">
 <header class="header">
  <app-insights-sidebar></app-insights-sidebar>
 </header>

 <main class="container">
  <div class="row header">
   <div class="col cont_img">
    <img [src]="this.post.imgUrl" alt="">
   </div>
   <div class="col cont_title">
    <span class="title">{{ this.post.titulo }}</span>
    <div class="col cont_autor">
     <span class="autor">Written by {{ this.post.autor }} <span class="data">{{ this.post.data }}</span></span>
     <img src="images/share.png" alt="">
    </div>
   </div>
  </div>

  <div class="line"></div>

  <div class="row main">
   <span [innerHTML]="this.post.conteudo"></span>
  </div>

  <div class="row compartilhar">
   <span>compartilhe:</span>
   <img src="images/facebook.png" alt="">
   <img src="images/twitter.png" alt="">
   <img src="images/instagram.png" alt="">
  </div>

  <div class="line"></div>

  <div class="cont_comentarios">
   <div class="col cont_title"><span class="title">Comentários</span></div>
   <div class="row form_comentarios">

    <div class="col">
     <form class="form" [formGroup]="comentariosForm" (submit)="submitApplication()">
      <div class="title">
       <div class="title_header"> <img src="images/message.png" alt="">
        <span>Deixe um comentário</span>
       </div>
       <div class="rating" (mouseleave)="reset()">
        <span *ngFor="let star of stars; let i = index" 
              (click)="rate(i + 1)" 
              (mouseover)="hover(i + 1)" 
              [ngClass]="{'filled': i < rating || i < hoverState}">
          &#9733;
        </span>
      </div>
      </div>
      <div class="container_input">
       <label for="conteudo">Conteúdo<span>*</span></label>
       <textarea id="conteudo" type="conteudo" formControlName="conteudo" required></textarea>
       <div class="error-message"
        *ngIf="comentariosForm.get('conteudo')!.invalid && (comentariosForm.get('conteudo')!.dirty || comentariosForm.get('conteudo')!.touched)">
        Conteúdo inválido
       </div>
       <div class="inputs_ident">
        <div class="container_input">
         <label for="email">Email <span>*</span></label>
         <input id="email" type="email" formControlName="email" required />
         <div class="error-message"
          *ngIf="comentariosForm.get('email')!.invalid && (comentariosForm.get('email')!.dirty || comentariosForm.get('email')!.touched)">
          Email inválido
         </div>
        </div>
        <div class="container_input">
         <label for="nome">Nome<span>*</span></label>
         <input id="nome" type="nome" formControlName="nome" required />
         <div class="error-message"
          *ngIf="comentariosForm.get('nome')!.invalid && (comentariosForm.get('nome')!.dirty || comentariosForm.get('nome')!.touched)">
          Nome inválido
         </div>
        </div>
       </div>
      </div>
      <button type="submit" class="primary">publicar</button>
     </form>
    </div>
   </div>
   <div class="row cont_comente" *ngFor="let comentario of comentarios">
    <div class="col comente">
     <div class="cont_rating">
      <span class="rating" [innerHTML]="this.comentario.rating"></span>
     </div>
     <div class="col title">
      <span class="text">{{ comentario.conteudo }}</span>
     </div>
     <div class="col user-info">
      <div class="header_user-info"><img src="images/user.png" alt=""><span> {{ comentario.nome }}</span></div>
      <span class="data">{{ comentario.data }}</span>
     </div>
    </div>
   </div>
  </div>
 </main>

 <footer class="footer">
  <app-footer></app-footer>
 </footer>
</div>